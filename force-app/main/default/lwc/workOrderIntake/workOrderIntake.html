<template>
    <lightning-card title="Request a Plumber" icon-name="utility:tap">
        <div class="slds-p-around_medium">
            <lightning-input label="Full Name" value={name} onchange={handleChange} data-field="name"></lightning-input>
            <lightning-input label="Phone" value={phone} onchange={handleChange} data-field="phone"></lightning-input>
            <lightning-input label="Email" value={email} onchange={handleChange} data-field="email"></lightning-input>
            <lightning-input label="Address" value={address} onchange={handleChange} data-field="address"></lightning-input>
            <lightning-textarea label="Problem Description" value={description} onchange={handleChange} data-field="description"></lightning-textarea>
            <lightning-input
                label="Estimated Cost"
                name="estimatedCost"
                type="number"
                formatter="currency"
                value={estimatedCost}
                onchange={handleChange}>
            </lightning-input>
            <lightning-combobox
                label="Preferred Time"
                options={timeOptions}
                value={preferredTime}
                onchange={handleChange}
                data-field="preferredTime"
            >                
            </lightning-combobox>

            <lightning-file-upload
                label="Attach Photos"
                name="fileUploader"
                multiple
                accept=".jpg,.png,.jpeg"
                onuploadfinished={handleUploadFinished}
            >                
            </lightning-file-upload>

            <div class="slds-m-top_medium">
                <lightning-button variant="brand" label="Submit Request" onclick={handleSubmit}></lightning-button>
            </div>
        </div>

        <template if:true={showSucess}>
            <div class="slds-text-color_sucess slds-p-around_medium">
                Your request has been submitted successfully! A confirmation email has been sent.
            </div>
        </template>
    </lightning-card>
</template>